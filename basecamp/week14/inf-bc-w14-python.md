# Python 14: Higher Oreder Functions.

**Introduction**: This document presents learning activities for Python 14. In Python 14, you will basics of higher order functions in Python.

**Note**: In this phase, it is expected the learner can plan and run required learning process towards the goals of the week: making solutions to the given problems and product(s).

## Materials:

The activities are designed based on these following references:

- **BRef-01**: Book, Bill Lubanovic; "Introducing Python: Modern Computing in Simple Packages"; [Available here](https://www.oreilly.com/library/view/introducing-python-2nd/9781492051374/) 

- Free research.

## Path:

### Step: Functions Are First-Class Citizens.

#### Goals:

```
After taking this step, you will be able to:
	1. understand programs using: functions as parameters, generators and decorators.
```

#### What to learn?

1. Using **BRef-01, Chapter 9** (after section **Functions Are First-Class Citizens**) make a plan for the week to learn basics of higher order functions (HOF).
	- Read proposed book chapter and practice basic steps.

<hr>

## Exercises:

1. *Functions can be assigned to different variables*. Read the code given below and write down the result of the program:

```python
def f(x):
    return x*x
double = f
print(double(3))

```
2. *Functions can be collected within a structure*. Read the code given below and write down the result of the program:
```python
def f(x):
    return x**2
    
def g(x):
    return x**3
funcs = [f, g]

print(funcs[0](10), funcs[1](10))
```
3. *Functions as arguments to functions*. Read the code given below and write down the result of the program: [todo: map and using lambda for data processing, maybe something from week 6.]

3. *Generators*. Read the code given below. Function `power_n_range` is implementing a generator. It will generate a sequence of `x` to the power of `n` where `x` is between `first` and `last`. Using a `for`-loop, iterate over the elements generated by `power_n_range` with different values for parameters.

```python
def power_n_range(first=0,last=1,n=1):
    for x in range(first,last):
        yield x**n
```
4. *Decorators*. Take the function `power_n_range` from the previous exercise. We would like to decorate the function such that it provides better printing. For example, printing the sequence of `power_n_range(0,3,3)` will result as the following:
```
0^3 = 0
1^3 = 1
2^3 = 8
```
Make the given code complete and experiment with various values.

```python
def pretty_print(func):
#todo: implement the body of this function


#todo: put required syntactic sugar
def power_n_range(first=0,last=1,n=1):
    for x in range(first,last):
        yield x**n

#todo: implement a for-loop to iterate over generated sequence. Experiment with and without syntactic sugar.
```
## Problems:

1. The idea is to sort a list of strings. Depending on the purpose of the sorting, the criteria of sorting can be different: alphabetically based on the first letter, length of the string, etc. Use the code template below and implement sorting based on the number of vowels (descending) within a string. For example, `fall` will step before `free`.
2. Usually, processing a dataset a regular function holds the values in (main) memory, known as RAM memory, and returns them to the caller. Suppose you need to search for a word within a very large file (100,000,000+ rows). As you have learned before, one usual solution would be to open the file, load all the rows as a list and search the word. This may not be feasible. 
	- Why do you think this may not be feasible? Try to make an experiment. Implement a short code that writes a sring of length 10 in 100,000,000 lines (don't forget newline character). Then in a different code, open the file, read the lines and search for `hello`. Share your experiemnt with your teachers and classmates. *Hint:* First, calculate how much space would you need in your hard disk and make sure you have enough space and **in your program you close the file after writing**. Before trying with 100,000,000 rows test your program with 100 rows.
	- What would be your solution for reading and processing files with large content? *Hint:* Use *generator function*. A generator function doesnâ€™t hold the values in the main memory. It can deliver each row over time as the caller requests them.

3. **(Optional)** One of the ways to measure the performance of pieces of a code is to measuer the time of the execution. For example, the time is recorded at the begining and at the end of a function. Then, the execution time can be calculated. A desirable implementation is to not change the body of an already implemented function. A decorator can be helpful here. Suppose you have an already implemented function. Decorate your function such the its execution time is printed.



## Assignment:

1. **Background** One of the features that usually software engineers try to consider in their programs is *maintainability*. The idea is to implement your code such that later can be evolved with new functionality with less need to change. 
Consider the assignment of week 7. Your solution more likely is implemented based on a dictionary as a data structure that maps keys to values (as coding). Suppose you are asked to make your solution more generic such that if the mapping mechanism changes in the future, then your code in other methods, mainly encoding and decoding, stay untouched. For example, in the future, instead of perdefined mapping table, the value for a given key is calculated based on an algorithm.
	- Propose your solution and refactor your already existing solution such that implements your proposal.

## Extra Steps:

Extra resources:

1. [Higher-Order Functions and Decorators](https://medium.com/python-supply/higher-order-functions-and-decorators-d6bb31a5c78d)